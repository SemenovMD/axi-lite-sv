# AXI Lite Interconnect

Данный модуль представляет собой реализацию `AXI Lite Interconnect` на `SystemVerilog`. Модуль поддерживает подключение множества мастеров к множеству слейвов с использованием арбитража Round Robin и Priority. Разработан для интеграции в FPGA, включает декодеры адресов, арбитры и кроссбары для организации эффективного межсоединения.

## Содержание
- [Особенности](#Особенности)
- [Архитектура](#Архитектура)
- [Параметры](#Параметры)
- [Симуляция](#Симуляция)
- [Тестовое окружение](#Тестовое-окружение)
- [Документация](#Документация)

## Особенности
- Поддержка конфигурируемого количества мастеров и слейвов.
- Два типа арбитража: Round Robin и Priority.
- Декодирование адресов для маршрутизации транзакций.
- Полная поддержка AXI Lite протокола.
- Проверка корректности адресов и генерация ошибок.
- Статистика транзакций и мониторинг производительности.

## Архитектура

Модуль состоит из следующих основных компонентов:

- **Декодеры адресов** - определяют целевой слейв для каждой транзакции.
- **Арбитры** - управляют доступом мастеров к общим ресурсам.
- **Кроссбары** - организуют коммутацию между мастерами и слейвами.
- **Генераторы ответов** - обрабатывают ошибочные адреса.

## Параметры

### Основные параметры интерконнекта
- `NUMBER_MASTER` - количество мастеров AXI-Lite (по умолчанию: 32)
- `NUMBER_SLAVE` - количество слейвов AXI-Lite (по умолчанию: 16)
- `AXI_DATA_WIDTH` - ширина шины данных (по умолчанию: 32)
- `AXI_ADDR_WIDTH` - ширина шины адреса (по умолчанию: 32)

### Параметры арбитража
- `ARBITER_WR` - тип арбитра для записи (по умолчанию: 1 (`ROUND_ROBIN`))
- `ARBITER_RD` - тип арбитра для чтения (по умолчанию: 1 (`ROUND_ROBIN`))

### Адресное пространство слейвов
- `AXI_ADDR_OFFSET` - массив базовых адресов слейвов (пример: `{32'h0000_0000, 32'h1000_0000, ...}`)
- `AXI_ADDR_RANGE` - массив диапазонов адресов слейвов (пример: `{32'h0000_1000, 32'h0000_2000, ...}`)

## Симуляция
Для симуляции используется `QuestaSim`. Убедитесь, что путь к исполняемому файлу `vsim` добавлен в файл `bashrc`.

Для запуска полной симуляции выполните команду:
```sh
make sim
```
Для очистки файлов, полученных при симуляции, выполните команду:
```sh
make clean
```

## Документация

### `axil_interconnect`
Основной модуль интерконнекта, объединяющий каналы записи и чтения.

### `axil_if` 
Интерфейс AXI-Lite для подключения к внешней шине.

### `axil_interconnect_wrapper_sv`
SystemVerilog обертка для удобной интеграции.

### `axil_interconnect_wr`
Интерконнект для транзакций записи.

### `axil_decoder_addr_wr`
Декодер адресов для операций записи.

### `axil_response_addr_invalid_wr`
Обработчик неверных адресов при записи.

### `axil_arbiter_wr` 
Арбитр для канала записи.

### `axil_crossbar_ms_wr` 
Кроссбар от мастеров к слейвам для канала записи.

### `axil_crossbar_sm_wr` 
Кроссбар от слейвов к мастерам для канала записи.

### `axil_interconnect_rd` 
Интерконнект для транзакций чтения.

### `axil_decoder_addr_rd` 
Декодер адресов для операций чтения.

### `axil_response_addr_invalid_rd` 
Обработчик неверных адресов в канале чтения.

### `axil_arbiter_rd` Арбитр для канала чтения.

### `axil_crossbar_ms_rd` 
Кроссбар от мастеров к слейвам для канала чтения.

### `axil_crossbar_sm_rd` 
Кроссбар от слейвов к мастерам для канала чтения.

### `axil_pkg` 
Пакет с параметрами интерконнекта.

### `axil_interconnect_tb` 
Основной тестовый модуль.

### `pkg_tb` 
Пакет тестового окружения с классами агентов.